(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{9953:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[eventId]",function(){return t(2785)}])},6860:function(e,n,t){"use strict";var s=t(5893);n.Z=function(){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}},6447:function(e,n,t){"use strict";var s=t(5893);n.Z=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}},2785:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return D},default:function(){return Z}});var s=t(5893),i=t(7294),o=t(3554),r=t.n(o);function c(e){let{title:n}=e;return(0,s.jsx)("section",{className:r().summary,children:(0,s.jsx)("h1",{children:n})})}var a=t(5675),l=t.n(a),m=t(6860),d=t(6447),u=t(9718),h=t.n(u);function x(e){let{icon:n,children:t}=e;return(0,s.jsxs)("li",{className:h().item,children:[(0,s.jsx)("span",{className:h().icon,children:(0,s.jsx)(n,{})}),(0,s.jsx)("span",{className:h().content,children:t})]})}var j=t(1321),f=t.n(j);function _(e){let{date:n,address:t,image:i,imageAlt:o}=e,r=new Date(n).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}),c=t.replace(", ","\n");return(0,s.jsxs)("section",{className:f().logistics,children:[(0,s.jsx)("div",{className:f().image,children:(0,s.jsx)(l(),{src:"/"+i,alt:o,width:400,height:400})}),(0,s.jsxs)("ul",{className:f().list,children:[(0,s.jsx)(x,{icon:d.Z,children:(0,s.jsx)("time",{children:r})}),(0,s.jsx)(x,{icon:m.Z,children:(0,s.jsx)("address",{children:c})})]})]})}var p=t(6148),v=t.n(p);function g(e){let{children:n}=e;return(0,s.jsx)("section",{className:v().content,children:n})}var w=t(3808),N=t.n(w);function S(e){let{items:n}=e;return(0,s.jsx)("ul",{className:N().comments,children:n.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsx)("p",{children:e.text}),(0,s.jsxs)("div",{children:["By ",(0,s.jsx)("address",{children:e.name})]})]},e._id))})}var k=t(6136),y=t.n(k);function C(e){let[n,t]=(0,i.useState)(!1),o=(0,i.useRef)(),r=(0,i.useRef)(),c=(0,i.useRef)();return(0,s.jsxs)("form",{className:y().form,onSubmit:function(n){n.preventDefault();let s=o.current.value,i=r.current.value,a=c.current.value;if(!s||""===s.trim()||!s.includes("@")||!i||""===i.trim()||!a||""===a.trim()){t(!0);return}e.onAddComment({email:s,name:i,text:a})},children:[(0,s.jsxs)("div",{className:y().row,children:[(0,s.jsxs)("div",{className:y().control,children:[(0,s.jsx)("label",{htmlFor:"email",children:"Your email"}),(0,s.jsx)("input",{type:"email",id:"email",ref:o})]}),(0,s.jsxs)("div",{className:y().control,children:[(0,s.jsx)("label",{htmlFor:"name",children:"Your name"}),(0,s.jsx)("input",{type:"text",id:"name",ref:r})]})]}),(0,s.jsxs)("div",{className:y().control,children:[(0,s.jsx)("label",{htmlFor:"comment",children:"Your comment"}),(0,s.jsx)("textarea",{id:"comment",rows:"5",ref:c})]}),n&&(0,s.jsx)("p",{children:"Please enter a valid email address and comment!"}),(0,s.jsx)("button",{children:"Submit"})]})}var L=t(3452),b=t.n(L),E=t(2172);function Y(e){let{eventId:n}=e,t=(0,i.useContext)(E.Z),[o,r]=(0,i.useState)(!1),[c,a]=(0,i.useState)(!1),[l,m]=(0,i.useState)([]),[d,u]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{o&&(u(!0),fetch("/api/comments/".concat(n)).then(e=>e.json()).then(e=>{m(e.comments),u(!1)}))},[o,c]),(0,s.jsxs)("section",{className:b().comments,children:[(0,s.jsxs)("button",{onClick:function(){r(e=>!e)},children:[o?"Hide":"Show"," Comments"]}),o&&(0,s.jsx)(C,{onAddComment:function(e){t.showNotification({title:"Adding Comment...",message:"Uploading your comment...",status:"pending"}),fetch("/api/comments/".concat(n),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.ok?e.json():e.json().then(e=>{throw Error(e.message||"Something went wrong!")})).then(e=>{t.showNotification({title:"Success!",message:"Your comment was saved!",status:"success"}),a(!c)}).catch(e=>{t.showNotification({title:"Error!",message:e.message||"Something went wrong!",status:"error"})})}}),o&&!d&&(0,s.jsx)(S,{items:l}),o&&d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Loading..."}),(0,s.jsx)(S,{items:l})]})]})}var F=t(9008),M=t.n(F),D=!0;function Z(e){let n=e.selectedEvent;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(M(),{children:[(0,s.jsx)("title",{children:n.title}),(0,s.jsx)("meta",{name:"description",content:n.description})]}),(0,s.jsx)(c,{title:n.title}),(0,s.jsx)(_,{date:n.date,address:n.location,image:n.image,imageAlt:n.title}),(0,s.jsx)(g,{children:(0,s.jsx)("p",{children:n.description})}),(0,s.jsx)(Y,{eventId:n.id})]}):(0,s.jsx)("div",{className:"center",children:(0,s.jsx)("p",{children:"Loading..."})})}},6148:function(e){e.exports={content:"event-content_content__N8f4Q"}},1321:function(e){e.exports={logistics:"event-logistics_logistics__nnLSE",image:"event-logistics_image__cldYm",list:"event-logistics_list__flNvw"}},3554:function(e){e.exports={summary:"event-summary_summary__rmm9D"}},9718:function(e){e.exports={item:"logistics-item_item__jiFzn",icon:"logistics-item_icon__o2W_d"}},3808:function(e){e.exports={comments:"comment-list_comments__IGYva"}},3452:function(e){e.exports={comments:"comments_comments__DvCYh"}},6136:function(e){e.exports={form:"new-comment_form__StHMs",row:"new-comment_row__6RSMo",control:"new-comment_control__dwipg"}}},function(e){e.O(0,[675,774,888,179],function(){return e(e.s=9953)}),_N_E=e.O()}]);